services:
    base:
        image: nestjs-template-base
        build:
            context: .
            dockerfile: .dockerfile
        env_file:
            - .env
        healthcheck:
            test: ['CMD', 'curl', '-f', 'http://localhost:3000/health']
            interval: 30s
            timeout: 10s
            retries: 5
        ports:
            - '4000:4000'
        environment:
            - EXAMPLE=EXAMPLE
